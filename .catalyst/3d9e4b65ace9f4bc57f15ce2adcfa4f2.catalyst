{"title":{"en":"E. Swapping Cities","ru":"E. Swapping Cities"},"contestId":"353907","problemIndex":"E","timeLimit":{"en":"1 second","ru":"1 second"},"memLimit":{"en":"256 megabytes","ru":"256 megabytes"},"inputFormat":{"en":"standard input","ru":"standard input"},"outputFormat":{"en":"standard output","ru":"standard output"},"problemHtml":{"en":"<p>There are $$$N$$$ cities in Indonesia, numbered from $$$0$$$ to $$$N-1$$$. There are also $$$M$$$ two-way roads, numbered from $$$0$$$ to $$$M-1$$$. Each road connects two different cities. The i-th road connects the $$$U_i$$$-th city and the $$$V_i$$$-th city and consumes $$$W_i$$$ units of gas when traversed by car. The cities are connected such that it is possible to travel between any pair of cities through the roads.</p><p>For each of the next days, a pair of cities would like to establish a political relationship. In particular, on the $$$j$$$-th day, the $$$X_j$$$-th city would like to establish a political relationship with the $$$Y_j$$$-th city. In order to do this, the $$$X_j$$$-th city should send a representative to go to the $$$Y_j$$$-th city by car. Similarly, the $$$Y_j$$$-th city should also send a representative to go to the $$$X_j$$$-th city by car.</p><p>To avoid congestion, both cars should not meet at any point in time. In particular, both cars should not be in the same city at the same time. Also, both cars should not traverse the same road in the opposite direction at the same time. Additionally, cars that traverse the road must complete the road and go to the destination city (in other words, cars are not allowed to make a U-turn in the middle of a road). However, cars are allowed to visit the same city and road more than once. In addition, cars may also wait at any city at any point in time.</p><p>Since cars with high fuel capacity are expensive, both cities would like to choose routes for both cars such that the maximum fuel capacity of the two cars is minimized. There are gas stations in each city with an infinite supply of gas, thus the fuel capacity required by a car is the maximum gas consumption among all roads traversed by the car.</p>","ru":"<p>There are $$$N$$$ cities in Indonesia, numbered from $$$0$$$ to $$$N-1$$$. There are also $$$M$$$ two-way roads, numbered from $$$0$$$ to $$$M-1$$$. Each road connects two different cities. The i-th road connects the $$$U_i$$$-th city and the $$$V_i$$$-th city and consumes $$$W_i$$$ units of gas when traversed by car. The cities are connected such that it is possible to travel between any pair of cities through the roads.</p><p>For each of the next days, a pair of cities would like to establish a political relationship. In particular, on the $$$j$$$-th day, the $$$X_j$$$-th city would like to establish a political relationship with the $$$Y_j$$$-th city. In order to do this, the $$$X_j$$$-th city should send a representative to go to the $$$Y_j$$$-th city by car. Similarly, the $$$Y_j$$$-th city should also send a representative to go to the $$$X_j$$$-th city by car.</p><p>To avoid congestion, both cars should not meet at any point in time. In particular, both cars should not be in the same city at the same time. Also, both cars should not traverse the same road in the opposite direction at the same time. Additionally, cars that traverse the road must complete the road and go to the destination city (in other words, cars are not allowed to make a U-turn in the middle of a road). However, cars are allowed to visit the same city and road more than once. In addition, cars may also wait at any city at any point in time.</p><p>Since cars with high fuel capacity are expensive, both cities would like to choose routes for both cars such that the maximum fuel capacity of the two cars is minimized. There are gas stations in each city with an infinite supply of gas, thus the fuel capacity required by a car is the maximum gas consumption among all roads traversed by the car.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line of input contains $$$N$$$ and $$$M$$$.</p><p>The following $$$M$$$ lines each contain three integers, the i-th of which contains $$$U_i$$$, $$$V_i$$$ and $$$W_i$$$.</p><p>The next line contains $$$Q$$$.</p><p>The following $$$Q$$$ lines each contain two integers, the i-th of which contains $$$X_i$$$ and $$$Y_i$$$. </p><ul> <li> $$$2 \\leq N \\leq 100000$$$ </li><li> $$$N−1 \\leq M \\leq 200000$$$ </li><li> $$$0 \\leq U[i]&lt;V[i]&lt;N$$$ </li><li> There is at most one road between each pair of cities. </li><li> It is possible to travel between any pair of cities through the roads. </li><li> $$$1 \\leq W[i] \\leq 10^9$$$ </li><li> $$$1 \\leq Q \\leq 200000$$$ </li><li> $$$0 \\leq X[j]&lt;Y[j]&lt;N$$$ </li></ul>","ru":"<div class=\"section-title\">Input</div><p>The first line of input contains $$$N$$$ and $$$M$$$.</p><p>The following $$$M$$$ lines each contain three integers, the i-th of which contains $$$U_i$$$, $$$V_i$$$ and $$$W_i$$$.</p><p>The next line contains $$$Q$$$.</p><p>The following $$$Q$$$ lines each contain two integers, the i-th of which contains $$$X_i$$$ and $$$Y_i$$$. </p><ul> <li> $$$2 \\leq N \\leq 100000$$$ </li><li> $$$N−1 \\leq M \\leq 200000$$$ </li><li> $$$0 \\leq U[i]&lt;V[i]&lt;N$$$ </li><li> There is at most one road between each pair of cities. </li><li> It is possible to travel between any pair of cities through the roads. </li><li> $$$1 \\leq W[i] \\leq 10^9$$$ </li><li> $$$1 \\leq Q \\leq 200000$$$ </li><li> $$$0 \\leq X[j]&lt;Y[j]&lt;N$$$ </li></ul>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each query, output an integer representing the minimum unit of fuel capacity of the maximum fuel capacity of the two cars such that a representative from the $$$X_i$$$-th city can go to the $$$Y_i$$$-th city and a representative from the $$$Y_i$$$-th city can go to the $$$X_i$$$-th city following the rules explained in the problem statement, or -1 if it is impossible to do so.</p>","ru":"<div class=\"section-title\">Output</div><p>For each query, output an integer representing the minimum unit of fuel capacity of the maximum fuel capacity of the two cars such that a representative from the $$$X_i$$$-th city can go to the $$$Y_i$$$-th city and a representative from the $$$Y_i$$$-th city can go to the $$$X_i$$$-th city following the rules explained in the problem statement, or -1 if it is impossible to do so.</p>"},"noteHtml":{"en":null,"ru":null},"sampleTestcases":[{"id":1636588866526,"input":"5 6\n0 1 4\n0 2 4\n1 2 1\n1 3 2\n1 4 10\n2 3 3\n3\n1 2\n2 4\n0 1\n","output":"3\n10\n4\n"},{"id":1636588866527,"input":"3 2\n0 1 5\n0 2 5\n1\n1 2\n","output":"-1\n"}],"submitUrl":"https://codeforces.com/group/KIrM1Owd8u/contest/353907/submit","language":"c++","isPartOfContest":true}