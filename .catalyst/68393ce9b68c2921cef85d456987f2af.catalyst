{"title":{"en":"F. PalindORme","ru":"F. ПалиндORм"},"contestId":"1605","problemIndex":"F","timeLimit":{"en":"4 seconds","ru":"4 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>An integer array $$$a$$$ of length $$$n$$$ is said to be a PalindORme if ($$$a_{1}$$$ $$$|$$$ $$$a_{2} $$$ $$$|$$$ $$$ \\ldots $$$ $$$|$$$ $$$ a_{i}) = (a_{{n - i + 1}} $$$ $$$|$$$ $$$ \\ldots $$$ $$$|$$$ $$$ a_{{n - 1}} $$$ $$$|$$$ $$$ a_{n}) $$$ <span class=\"tex-font-style-bf\">for all</span> $$$ 1 \\leq i \\leq n$$$, where $$$|$$$ denotes the <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation#OR\">bitwise OR operation</a>.</p><p>An integer array $$$a$$$ of length $$$n$$$ is considered to be good if its elements can be rearranged to form a PalindORme. Formally, array $$$a$$$ is good if there exists a permutation $$$p_1, p_2, \\ldots p_n$$$ (an array where each integer from $$$1$$$ to $$$n$$$ appears exactly once) for which $$$a_{p_1}, a_{p_2}, \\ldots a_{p_n}$$$ is a PalindORme.</p><p>Find the number of good arrays of length $$$n$$$, consisting only of integers in the range $$$[0, 2^{k} - 1]$$$, and print it modulo some prime $$$m$$$.</p><p>Two arrays $$$a_1, a_2, \\ldots, a_n$$$ and $$$b_1, b_2, \\ldots, b_n$$$ are considered to be different if there exists any $$$i$$$ $$$(1 \\leq i \\leq n)$$$ such that $$$a_i \\ne b_i$$$.</p>","ru":"<p>Целочисленный массив $$$a$$$ длины $$$n$$$ называется палиндORмом, если ($$$a_{1}$$$ $$$|$$$ $$$a_{2} $$$ $$$|$$$ $$$ \\ldots $$$ $$$|$$$ $$$ a_{i}) = (a_{{n - i + 1}} $$$ $$$|$$$ $$$ \\ldots $$$ $$$|$$$ $$$ a_{{n - 1}} $$$ $$$|$$$ $$$ a_{n}) $$$ <span class=\"tex-font-style-bf\">для всех</span> $$$ 1 \\leq i \\leq n$$$, где $$$|$$$ обозначает операцию <a href=\"https://ru.wikipedia.org/wiki/Битовая_операция#Побитовое_ИЛИ\">побитового ИЛИ</a>.</p><p>Целочисленный массив $$$a$$$ длины $$$n$$$ считается хорошим, если его элементы могут быть переставлены так, чтобы образовать палиндORм. Формально, массив $$$a$$$ является хорошим, если существует перестановка $$$p_1, p_2, \\ldots p_n$$$ (массив, в котором каждое целое число от $$$1$$$ до $$$n$$$ встречается ровно один раз), для которой $$$a_{p_1}, a_{p_2}, \\ldots a_{p_n}$$$ является палиндORмом.</p><p>Найдите количество хороших массивов длины $$$n$$$, состоящих только из целых чисел в диапазоне $$$[0, 2^{k} - 1]$$$, и выведите его по модулю некоторого простого числа $$$m$$$.</p><p>Два массива $$$a_1, a_2, \\ldots, a_n$$$ и $$$b_1, b_2, \\ldots, b_n$$$ считаются различными, если существует индекс $$$i$$$ $$$(1 \\leq i \\leq n)$$$ такой, что $$$a_i \\ne b_i$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first and only line of the input contains three integers $$$n$$$, $$$k$$$ and $$$m$$$ ($$$1 \\leq n,k \\leq 80$$$, $$$10^8 \\lt m \\lt 10^9$$$). It is guaranteed that $$$m$$$ is prime.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Первая и единственная строка входных данных содержит три целых числа $$$n$$$, $$$k$$$ и $$$m$$$ ($$$1 \\leq n,k \\leq 80$$$, $$$10^8 \\lt m \\lt 10^9$$$). Гарантируется, что $$$m$$$ является простым.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Print a single integer &nbsp;— the number of good arrays modulo $$$m$$$.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите одно целое число &nbsp;— количество хороших массивов по модулю $$$m$$$.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first sample, both the possible arrays $$$[0]$$$ and $$$[1]$$$ are good.</p><p>In the second sample, some examples of good arrays are:</p><ul><li> $$$[2, 1, 2]$$$ because it is already PalindORme.</li><li> $$$[1, 1, 0]$$$ because it can rearranged to $$$[1, 0, 1]$$$ which is PalindORme</li></ul><p>Note that $$$[1, 1, 0]$$$, $$$[1, 0, 1]$$$ and $$$[0, 1, 1]$$$ are all good arrays and are considered to be different according to the definition in the statement.</p><p>In the third sample, an example of a good array is $$$[1, 0, 1, 4, 2, 5, 4]$$$. It can be rearranged to an array $$$b = [1, 5, 0, 2, 4, 4, 1]$$$ which is a PalindORme because:</p><ul><li> $$$\\mathrm{OR}(1, 1)$$$ = $$$\\mathrm{OR}(7, 7)$$$ = $$$1$$$</li><li> $$$\\mathrm{OR}(1, 2)$$$ = $$$\\mathrm{OR}(6, 7)$$$ = $$$5$$$</li><li> $$$\\mathrm{OR}(1, 3)$$$ = $$$\\mathrm{OR}(5, 7)$$$ = $$$5$$$</li><li> $$$\\mathrm{OR}(1, 4)$$$ = $$$\\mathrm{OR}(4, 7)$$$ = $$$7$$$</li><li> $$$\\mathrm{OR}(1, 5)$$$ = $$$\\mathrm{OR}(3, 7)$$$ = $$$7$$$</li><li> $$$\\mathrm{OR}(1, 6)$$$ = $$$\\mathrm{OR}(2, 7)$$$ = $$$7$$$</li><li> $$$\\mathrm{OR}(1, 7)$$$ = $$$\\mathrm{OR}(1, 7)$$$ = $$$7$$$</li></ul><p>Here $$$\\mathrm{OR}(l, r)$$$ denotes $$$b_{l}$$$ $$$|$$$ $$$b_{l+1} $$$ $$$|$$$ $$$ \\ldots $$$ $$$|$$$ $$$ b_{r}$$$</p>","ru":"<div class=\"section-title\">Примечание</div><p>В первом примере оба возможных массива $$$[0]$$$ и $$$[1]$$$ являются хорошими.</p><p>Во втором примере есть несколько примеров хороших массивов:</p><ul><li> $$$[2, 1, 2]$$$, потому что он уже является палиндORмом.</li><li> $$$[1, 1, 0]$$$, потому что его можно перестроить в $$$[1, 0, 1]$$$, что является палиндORмом.</li></ul><p>Обратите внимание, что $$$[1, 1, 0]$$$, $$$[1, 0, 1]$$$ и $$$[0, 1, 1]$$$ являются хорошими массивами и считаются разными в соответствии с определением в утверждении.</p><p>В третьем примере примером хорошего массива является $$$[1, 0, 1, 4, 2, 5, 4]$$$. Его можно переставить в массив $$$b = [1, 5, 0, 2, 4, 4, 1]$$$, который является палиндORмом, потому что:</p><ul><li> $$$\\mathrm{OR}(1, 1)$$$ = $$$\\mathrm{OR}(7, 7)$$$ = $$$1$$$</li><li> $$$\\mathrm{OR}(1, 2)$$$ = $$$\\mathrm{OR}(6, 7)$$$ = $$$5$$$</li><li> $$$\\mathrm{OR}(1, 3)$$$ = $$$\\mathrm{OR}(5, 7)$$$ = $$$5$$$</li><li> $$$\\mathrm{OR}(1, 4)$$$ = $$$\\mathrm{OR}(4, 7)$$$ = $$$7$$$</li><li> $$$\\mathrm{OR}(1, 5)$$$ = $$$\\mathrm{OR}(3, 7)$$$ = $$$7$$$</li><li> $$$\\mathrm{OR}(1, 6)$$$ = $$$\\mathrm{OR}(2, 7)$$$ = $$$7$$$</li><li> $$$\\mathrm{OR}(1, 7)$$$ = $$$\\mathrm{OR}(1, 7)$$$ = $$$7$$$</li></ul><p>Здесь $$$\\mathrm{OR}(l, r)$$$ обозначает $$$b_{l}$$$ $$$|$$$ $$$b_{l+1} $$$ $$$|$$$ $$$ \\ldots $$$ $$$|$$$ $$$ b_{r}$$$</p>"},"sampleTestcases":[{"id":1636727733594,"input":"1 1 998244353\n","output":"2\n"},{"id":1636727733595,"input":"3 2 999999733\n","output":"40\n"},{"id":1636727733596,"input":"7 3 796735397\n","output":"1871528\n"},{"id":1636727733597,"input":"2 46 606559127\n","output":"177013\n"}],"submitUrl":"https://codeforces.com/contest/1605/submit","language":"c++","isPartOfContest":true}