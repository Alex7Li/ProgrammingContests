{"title":{"en":"D. Line, Meet Squares","ru":"D. Line, Meet Squares"},"contestId":"354820","problemIndex":"D","timeLimit":{"en":"2 s.","ru":"2 s."},"memLimit":{"en":"512 MB","ru":"512 MB"},"inputFormat":{"en":"standard input","ru":"standard input"},"outputFormat":{"en":"standard output","ru":"standard output"},"problemHtml":{"en":"<p>You're given a collection of $$$n$$$ squares in the plane, along with a line. The goal is to count the number of intersections between the line and the boundaries of the squares.</p><p>More specifically, for each $$$i$$$ in $$$[1,n]$$$ a square with these four corners is generated: $$$(i,0), (0,i), (-i,0), (0,-i)$$$. And for that set of squares, a set of $$$q$$$ query lines is specified, and for each you must compute the intersection count.</p>","ru":"<p>You're given a collection of $$$n$$$ squares in the plane, along with a line. The goal is to count the number of intersections between the line and the boundaries of the squares.</p><p>More specifically, for each $$$i$$$ in $$$[1,n]$$$ a square with these four corners is generated: $$$(i,0), (0,i), (-i,0), (0,-i)$$$. And for that set of squares, a set of $$$q$$$ query lines is specified, and for each you must compute the intersection count.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains $$$n$$$ and $$$q$$$, where $$$1 \\le n \\le 10^9$$$ and $$$1 \\le q \\le 10^5$$$. Each of the following $$$q$$$ lines contains four integers $$$x_1, y_1, x_2, y_2$$$, representing two points $$$(x_1,y_1)$$$ and $$$(x_2,y_2)$$$. The line through these two points is the one for which you must count intersections with the $$$n$$$ squares. All of these coordinates are in the range $$$[-10^9, 10^9]$$$. These two points are not equal, and also the line through the two points must not have slope $$$1$$$ or $$$-1$$$. (That is $$$|x_1-x_2| \\neq |y_1-y_2|$$$.)</p>","ru":"<div class=\"section-title\">Input</div><p>The first line contains $$$n$$$ and $$$q$$$, where $$$1 \\le n \\le 10^9$$$ and $$$1 \\le q \\le 10^5$$$. Each of the following $$$q$$$ lines contains four integers $$$x_1, y_1, x_2, y_2$$$, representing two points $$$(x_1,y_1)$$$ and $$$(x_2,y_2)$$$. The line through these two points is the one for which you must count intersections with the $$$n$$$ squares. All of these coordinates are in the range $$$[-10^9, 10^9]$$$. These two points are not equal, and also the line through the two points must not have slope $$$1$$$ or $$$-1$$$. (That is $$$|x_1-x_2| \\neq |y_1-y_2|$$$.)</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each line indicated, compute the number of times it intersects the $$$n$$$ square boundaries. See the examples below.</p>","ru":"<div class=\"section-title\">Output</div><p>For each line indicated, compute the number of times it intersects the $$$n$$$ square boundaries. See the examples below.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>The first example is shown below.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/850ec0b0b0d44fae0e17bb2f7edfaa644f4d01e0.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"> </center>","ru":"<div class=\"section-title\">Note</div><p>The first example is shown below.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/850ec0b0b0d44fae0e17bb2f7edfaa644f4d01e0.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"> </center>"},"sampleTestcases":[{"id":1637193628398,"input":"5 12\n4 4 1 -2\n0 0 -3 1\n-1 0 1 0\n7 0 0 6\n5 1 -2 -1\n-5 1 -4 1\n4 -5 -3 -5\n2 1000000000 0 -1000000000\n2 999999999 0 -1000000000\n2 1000000000 0 -999999999\n1000000000 1000000000 -999999998 -1000000000\n1000000000 1000000000 -999999997 -1000000000","output":"7\n10\n10\n0\n10\n9\n1\n9\n8\n10\n9\n8","result":{"id":1637193628398,"stdout":"7\n10\n10\n0\n10\n9\n1\n9\n8\n10\n9\n8\n","stderr":"","exitcode":0,"signal":null,"time":1,"timeout":false}},{"id":1637196489204,"input":"5 1\n5 1 -2 -1","output":"10","result":{"id":1637196489204,"stdout":"10\n","stderr":"","exitcode":0,"signal":null,"time":1,"timeout":false}}],"submitUrl":"https://codeforces.com/group/KIrM1Owd8u/contest/354820/submit","language":"c++","isPartOfContest":true,"langId":"54"}