{"title":{"en":"C. Alternation is the Key","ru":"C. Alternation is the Key"},"contestId":"354820","problemIndex":"C","timeLimit":{"en":"3 s.","ru":"3 s."},"memLimit":{"en":"1024 MB","ru":"1024 MB"},"inputFormat":{"en":"standard input","ru":"standard input"},"outputFormat":{"en":"standard output","ru":"standard output"},"problemHtml":{"en":"<p>You're given a sequence of $$$n$$$ bits, denoted $$$a_1, a_2, \\ldots, a_n$$$. The subsequence from $$$l$$$ to $$$r$$$ (with $$$1 \\leq l \\leq r \\leq n$$$) is $$$a_{l}, \\ldots, a_r$$$. Such a subsequence is said to be <span class=\"tex-font-style-it\">alternating</span> if $$$a_{l} \\neq a_{l+1} \\neq \\cdots \\neq a_r$$$. For example $$$1,0,1$$$ is an alternating subsequence of $$$1,1,0,1,1$$$, with $$$l=2$$$ and $$$r=4$$$.</p><p>In this problem, two types of operations will be applied to the given array:</p><ul> <li> $$$1~l~r$$$: for every $$$i\\in[l,r]$$$, change $$$a_i$$$ into $$$1-a_i$$$. </li><li> $$$2~l~r$$$: report the total number of pairs $$$(x, y)$$$ such that $$$l \\leq x \\leq y \\leq r$$$ where subsequence $$$a_x,a_{x+1},\\dots,a_y$$$ is an alternating subsequence. </li></ul><p>Your program will implement these operations.</p>","ru":"<p>You're given a sequence of $$$n$$$ bits, denoted $$$a_1, a_2, \\ldots, a_n$$$. The subsequence from $$$l$$$ to $$$r$$$ (with $$$1 \\leq l \\leq r \\leq n$$$) is $$$a_{l}, \\ldots, a_r$$$. Such a subsequence is said to be <span class=\"tex-font-style-it\">alternating</span> if $$$a_{l} \\neq a_{l+1} \\neq \\cdots \\neq a_r$$$. For example $$$1,0,1$$$ is an alternating subsequence of $$$1,1,0,1,1$$$, with $$$l=2$$$ and $$$r=4$$$.</p><p>In this problem, two types of operations will be applied to the given array:</p><ul> <li> $$$1~l~r$$$: for every $$$i\\in[l,r]$$$, change $$$a_i$$$ into $$$1-a_i$$$. </li><li> $$$2~l~r$$$: report the total number of pairs $$$(x, y)$$$ such that $$$l \\leq x \\leq y \\leq r$$$ where subsequence $$$a_x,a_{x+1},\\dots,a_y$$$ is an alternating subsequence. </li></ul><p>Your program will implement these operations.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains two integers $$$n$$$ and $$$q$$$ (with $$$1 \\leq n,q\\leq 2\\times10^5$$$) indicating the length of the given sequence and the number of operations. The second line contains $$$a_1,a_2,\\dots,a_n$$$, the initial contents of the array of bits. Then $$$q$$$ lines follow, and the $$$i$$$-th of them contains $$$3$$$ integers $$$t_{i}, l_{i}, r_{i}$$$ where the $$$i$$$-th operation is $$$t_i~l_i~r_i$$$. ($$$1 \\leq t_i \\leq 2$$$ and $$$1 \\leq l_i \\leq r_i \\leq n$$$)</p>","ru":"<div class=\"section-title\">Input</div><p>The first line contains two integers $$$n$$$ and $$$q$$$ (with $$$1 \\leq n,q\\leq 2\\times10^5$$$) indicating the length of the given sequence and the number of operations. The second line contains $$$a_1,a_2,\\dots,a_n$$$, the initial contents of the array of bits. Then $$$q$$$ lines follow, and the $$$i$$$-th of them contains $$$3$$$ integers $$$t_{i}, l_{i}, r_{i}$$$ where the $$$i$$$-th operation is $$$t_i~l_i~r_i$$$. ($$$1 \\leq t_i \\leq 2$$$ and $$$1 \\leq l_i \\leq r_i \\leq n$$$)</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each operation of the second type, output the required number on one line.</p>","ru":"<div class=\"section-title\">Output</div><p>For each operation of the second type, output the required number on one line.</p>"},"noteHtml":{"en":null,"ru":null},"sampleTestcases":[{"id":1637193626973,"input":"4 4\n0 0 0 0\n2 1 4\n1 2 2\n2 1 4\n2 2 3","output":"4\n7\n3","result":{"id":1637193626973,"stdout":"4\n7\n0\n","stderr":"","exitcode":0,"signal":null,"time":19,"timeout":false}}],"submitUrl":"https://codeforces.com/group/KIrM1Owd8u/contest/354820/submit","language":"c++","isPartOfContest":true,"langId":"54"}